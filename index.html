<div class="layout-toggle">
  <button class="list-view-btn active">列表视图</button>
  <button class="masonry-view-btn">瀑布流视图</button>
</div>
<script>
  const toggleBtns = document.querySelectorAll('.layout-toggle button');
  const postsContainer = document.querySelector('.posts-container');

  toggleBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      toggleBtns.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      postsContainer.classList.toggle('list-view');
      postsContainer.classList.toggle('masonry-view');
    });
  });
</script>

<div class="posts-container list-view">
  {% for post in site.posts %}
    <div class="post-preview">
      <a href="{{ post.url | prepend: site.baseurl }}">
        <h2 class="post-title">{{ post.title }}</h2>
        <h3 class="post-subtitle">{{ post.subtitle }}</h3>
      </a>
      <p class="post-meta">{{ post.date | date: "%Y-%m-%d" }}</p>
      <div class="post-entry">
        {{ post.excerpt | strip_html | truncatewords: 50 }}
      </div>
<script>
  const toggleBtns = document.querySelectorAll('.layout-toggle button');
  const postsContainer = document.querySelector('.posts-container');

  toggleBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      toggleBtns.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      postsContainer.classList.toggle('list-view');
      postsContainer.classList.toggle('masonry-view');
    });
  });
</script>
    </div>
<script>
  const toggleBtns = document.querySelectorAll('.layout-toggle button');
  const postsContainer = document.querySelector('.posts-container');

  toggleBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      toggleBtns.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      postsContainer.classList.toggle('list-view');
      postsContainer.classList.toggle('masonry-view');
    });
  });
</script>
  {% endfor %}
</div>
<script>
  const toggleBtns = document.querySelectorAll('.layout-toggle button');
  const postsContainer = document.querySelector('.posts-container');

  toggleBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      toggleBtns.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      postsContainer.classList.toggle('list-view');
      postsContainer.classList.toggle('masonry-view');
    });
  });
</script>
